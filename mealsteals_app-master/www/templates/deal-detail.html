<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->


<div ng-if="mask==true" style="position:absolute;top:0;left:0;width:999px;height:999px;background:#fff;z-index:99999;">
  
</div>



<ion-view>
    
   

    <ion-nav-buttons side="left">
      <button style="color:white;" class="button-clear" ng-click="myGoBack()">
        <i style="font-size: x-large;" class="ion-arrow-left-c"></i>
      </button>
    </ion-nav-buttons>
    <ion-nav-title>
			<h4 style="color:white;"><center>{{deal.locName}}</center></h4>	
    </ion-nav-title>    
    <ion-nav-buttons ng-cloak side="right">

        <button ng-click="followBus();" class="button button-icon button-clear">
            <i ng-class="{'ion-ios-heart':busFavorited==true, 'ion-ios-heart-outline':busFavorited!=true}"></i>
        </button>
    </ion-nav-buttons>    

		
<!--
  <ion-nav-buttons side="right">
      <button ng-click="shareViaFacebook(deal.name, deal.locName, deal.img)" style="background:#315f92;border-color:#315f92;" class="button icon ion-social-facebook animated rubberBand"> &nbsp;Share!</button>
  </ion-nav-buttons>
-->
  <!-- <ion-content class="padding" ng-style="{'background-image':'url('+deal.largeImg+')', 'background-size':'cover'}"> -->
  
  <ion-content has-bouncing="false" class="" style="background-color: #f5f5f5;">
   
      
      <script id="templates/loading.html" type="text/ng-template">
            
            <img src="img/rotating.png"/ class="spinner" style="height:80px;width:auto;opacity:0.7;">
      </script>
      
   	
    			<ion-content class="" style="top:-21px;margin-bottom:60px;">
    			
    				<div on-hold="imageEnlarge();" on-release="imageReturn();" class="card" style="width:100%;margin-left:initial;">
                        
    				    <div class="mg-image">
                        <img id="deal-image" class="deal-detail-image" ng-src="{{deal.dealFullImage}}" style="width:100%;height:40vh;margin-left:auto;margin-right:auto;object-fit:cover;object-position: 50% 0%;" />
<!--                        <button style="width: 100px;text-align: right;position: absolute;right: 5px;margin-top: -60px;height: 40px;min-height: 40px;line-height: 40px;border-radius: 7px;z-index:99999999;" ng-click="shareViaFacebook(deal.name, deal.locName, deal.dealFullImage)" style="" class="button icon-left ion-share button-balanced animated rubberBand">Share!</button>-->
                        </div>
<!--
                        <div>
                             <button style="width: 100px;text-align: right;position: absolute;right: 5px;margin-top: -50px;height: 40px;min-height: 40px;line-height: 40px;border-radius: 7px;z-index:99999999;" ng-click="share();" style="" class="button icon-left ion-share button-balanced animated rubberBand">Share!</button>
                        </div>



      				
                        <div>
                             <button style="width: 100px;text-align: right;position: absolute;right: 5px;margin-top: -50px;height: 40px;min-height: 40px;line-height: 40px;border-radius: 7px;z-index:99999999;" ng-click="share();" style="" class="button icon-left ion-share button-balanced animated rubberBand">Share!</button>
                        </div>

 -->                        

                        <div class="row" style="border-top:1px solid #fff;padding-top:15px;">
                            <div class="col col-100"><h4 style="text-align:center;color:rgb(62, 62, 62);margin-top:-5px;">{{deal.name}}</h4></div>
                        </div>
                        
                        
                        <h6 style="text-align:center;color:rgb(62, 62, 62);margin-top:-5px;">{{deal.startTime | date : 'shortTime'}} - {{deal.endTime | date : 'shortTime'}}</h6>
                        
                        <div style="width:90%;margin-left:auto;margin-right:auto;">
                            <p style="text-align:center;font-size:smaller;color:rgb(80, 80, 80);font-style:italic;" ng-bind-html="deal.description"></p>
                        </div>
<!--
                        <div style="text-align:center;">
                            <button style="width:100px;text-align:right;" ng-click="share(deal.name, deal.locName, deal.dealFullImage)" style="" class="button icon-left ion-share button-balanced animated rubberBand">Share!</button>
                        </div>
-->
                    </div>
                    
                    <button style="background-color: #f1f1f1;border: 1px black dashed;color: #565656;height: 80px;margin-top: 5px;margin-right:5px;" class="btn btn-primary" type="file" ng-click="uploadPicture();" accept="image/*" ngf-max-height="10000" ngf-max-size="3MB">
                                Upload New
                        </button>
                    
                        <div ng-repeat="thisImage in recurringObj[deal.recurringDealID].sharedImages" ng-show="deal.recurringDealID != undefined">
                            <span>    
                                <img ng-show="thisImage.verified == true" style="max-width:100%;width:auto;border-radius:10px;height:90px;padding:5px;" ng-src="{{thisImage.url}}"/>

                            </span>
                        </div>
                    
                        
                        <div ng-repeat="thisDealImage in deal.sharedImages" ng-hide="deal.recurringDealID != undefined">
                            <span>    
                                <img ng-show="thisDealImage.verified == true" style="max-width:100%;width:auto;border-radius:10px;height:90px;padding:5px;" ng-src="{{thisDealImage.url}}"/>

                            </span>
                        </div>
                    
                    
                    

                            
                    <div class="card row" style="text-align:center;width:100%;margin-left:initial;">
                            
                        <div ng-show="deal.recurringDealID!=undefined" class="col">
<!--
                            <div ng-show="dealFavorited==true" ng-click="unFollowDeal();">
                               <div><i style="font-size:30px;color:#f53737;" class="ion-ios-heart"></i></div>
                               <div>Favorite</div>
                           </div>
-->
                           <div ng-click="followDeal();">
                               <div> <i ng-class="{'ion-ios-heart':dealFavorited==true, 'ion-ios-heart-outline':dealFavorited!=true}"></i></div>
                               <div>Favorite</div>
                           </div>
                        </div>
                        
                        <div ng-class="{'red':dealFlagged=='yes'}" ng-click="flagPopover();openPopover($event);" class="col">
                            
                            <div><i style="font-size:30px;" ng-show="dealFlagged=='no'" class="ion-ios-flag-outline"></i></div>
                            <div><i style="font-size:30px;" ng-show="dealFlagged=='yes'" class="ion-ios-flag"></i></div>
                            <div ng-show="dealFlagged=='no'">Flag</div>
                            <div ng-show="dealFlagged=='yes'">Flagged</div>
                        </div>
                        
                        <div class="col">
                             <div ng-click="checkIn();" class="" ng-show="deal.redeemable=='no'">
                               <div><i style="font-size:30px;" class="ion-ios-checkmark-outline"></i></div>
                               <div>Check-In</div>
                             </div>

                            <div ng-click="redeemCheck()" class="" ng-show="deal.redeemable=='yes'">
                                <div><i style="font-size:30px;" class="ion-ios-pricetag-outline"></i></div>
                                <div>Redeem</div>
                            </div>
                        </div>    
                        
                    </div>
                    <div style="height:60px;">
                        <div ng-hide="userRate==true" class="card rate-row">
                            <div class="star-row row">
                                        
                                    <div class="col">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':(showRate>=0.3), 'ion-ios-star-half':(showRate > 0.3 && showRate < 0.7), 'ion-android-star-outline':(showRate<=0.7)}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':(showRate>=1.3), 'ion-ios-star-half':(showRate > 1.3 && showRate < 1.7), 'ion-android-star-outline':(showRate<=1.7)}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':(showRate>=2.3), 'ion-ios-star-half':(showRate > 2.3 && showRate < 2.7), 'ion-android-star-outline':(showRate<=2.7)}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':(showRate>=3.3), 'ion-ios-star-half':(showRate > 3.3 && showRate < 3.7), 'ion-android-star-outline':(showRate<=3.7)}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':(showRate>=4.3), 'ion-ios-star-half':(showRate > 4.3 && showRate < 4.7), 'ion-android-star-outline':(showRate<=4.7)}">
                                            </i>
                                        </div>
                                    </div>
                                    
                                    <a ng-click="rateThisDeal()" class="button button-clear">Rate</a>
                            </div>
                            <div class="row">
                                <span class="item-rating">{{totalRatings}} total ratings</span>
                            </div>
                            
                                
                        </div>

                        <div ng-cloak ng-show="userRate==true" class="card rate-row">

                            <div class="row star-row">
                                
                                    
                                    <div class="col"
                                        ng-click="userRating=1;rate(1, 1)">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':userRating>=1, 'ion-android-star-outline':userRating<1 || userRating==undefined}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col"
                                        ng-click="userRating=2;rate(2, 2)">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':userRating>=2, 'ion-android-star-outline':userRating<2 || userRating==undefined}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col"
                                        ng-click="userRating=3;rate(3, 3)">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':userRating>=3, 'ion-android-star-outline':userRating<3 || userRating==undefined}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col"
                                        ng-click="userRating=4;rate(4, 4)">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':userRating>=4, 'ion-android-star-outline':userRating<4 || userRating==undefined}">
                                            </i>
                                        </div>
                                    </div>
                                    <div class="col"
                                        ng-click="userRating=5;rate(5, 5)">
                                        <div>
                                            <i class="rate star-rate" 
                                               ng-class="{'ion-android-star':userRating>=5, 'ion-android-star-outline':userRating<5 || userRating==undefined}">
                                            </i>
                                        </div>
                                    </div>
                                    
                                
                                
<!--
                                    <div ng-click="userRating=1;rate(1, 1)" class="col" ng-show="userRating>=1">

                                        <div><i style="font-size:30px;" class="rate ion-android-star"></i></div>
                                    </div>
                                    <div ng-click="userRating=1;rate(1, 1)" class="col" ng-show="userRating<1 || userRating==undefined">

                                        <div><i style="font-size:30px;" class="ion-android-star-outline"></i></div>
                                    </div>

                                    <div ng-click="userRating=2;rate(2, 2)" class="col" ng-show="userRating>=2">

                                        <div><i style="font-size:30px;" class="ion-android-star"></i></div>
                                    </div>
                                    <div ng-click="userRating=2;rate(2, 2)" class="col" ng-show="userRating<2 || userRating==undefined">

                                        <div><i style="font-size:30px;" class="ion-android-star-outline"></i></div>
                                    </div>

                                    <div ng-click="userRating=3;rate(3, 3)" class="col" ng-show="userRating>=3">

                                        <div><i style="font-size:30px;" class="ion-android-star"></i></div>
                                    </div>
                                    <div ng-click="userRating=3;rate(3, 3)" class="col" ng-show="userRating<3 || userRating==undefined">

                                        <div><i style="font-size:30px;" class="ion-android-star-outline"></i></div>
                                    </div>

                                    <div ng-click="userRating=4;rate(4, 4)" class="col" ng-show="userRating>=4">

                                        <div><i style="font-size:30px;" class="ion-android-star"></i></div>
                                    </div>
                                    <div ng-click="userRating=4;rate(4, 4)" class="col" ng-show="userRating<4 || userRating==undefined">

                                        <div><i style="font-size:30px;" class="ion-android-star-outline"></i></div>
                                    </div>

                                    <div ng-click="userRating=5;rate(5, 5)" class="col" ng-show="userRating>=5">

                                        <div><i style="font-size:30px;" class="ion-android-star"></i></div>
                                    </div>
                                    <div ng-click="userRating=5;rate(5, 5)" class="col" ng-show="userRating<5 || userRating==undefined">

                                        <div><i style="font-size:30px;" class="ion-android-star-outline"></i></div>
                                    </div>
-->
                                    <a ng-click="confirmRate()" class="button button-clear">OK</a>
                                    
                            </div>
                            <div class="row">
                                <span ng-show="userRating!=undefined" class="item-rating">You rated this {{userRating}}</span>
                                <span ng-show="userRating==undefined" class="item-rating">You have yet to rate this</span>
                                
                            </div>

                        </div>
                    </div>

<!--
                    <div class="card row" style="text-align:center;width:100%;margin-left:initial;">
                            
                         <div class="col">   
                            <div><i style="font-size:30px;" class="ion-ios-clock-outline"></i></div>
                            <div>{{deal.startTime | date:'shortTime'}} - {{deal.endTime | date:'shortTime'}}</div>
                        </div>
                        

                

                    

                        
                        <div ng-class="{'red':dealFlagged=='yes'}" ng-click="flagPopover();openPopover($event);" class="col">
                            
                            <div><i style="font-size:30px;" ng-show="dealFlagged=='no'" class="ion-ios-flag-outline"></i></div>
                            <div><i style="font-size:30px;" ng-show="dealFlagged=='yes'" class="ion-ios-flag"></i></div>
                            <div ng-show="dealFlagged=='no'">Flag</div>
                            <div ng-show="dealFlagged=='yes'">Flagged</div>
                        </div>
                        
                    </div>
-->
                    

                    
                    
                    <script id="flag-popover.html" type="text/ng-template">
                        <ion-modal-view ng-class="{'modal-flag':flagPopoverClicked=='yes','hide':flagPopoverClicked=='no'}">
                            <div ng-if="flagPopoverClicked=='yes'">
                                <ion-header-bar class="bar bar-header bar-positive">
                                  <h1 class="title">Flag Deal</h1>
                                  <button class="button button-clear button-primary" ng-click="closePopover();closePopoverReset();">Cancel</button>
                                </ion-header-bar>
                                <ion-content class="padding">
                                    <h2 style="margin-bottom:20px;">We're terribly sorry for the inconveience...</h2>
                                <div class="list list-inset" style="padding-top:1px;">

                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: business closed" ng-click="flagDeal($event);" class="item">
                                        {{deal.locName}} is closed
                                    </div>
                                   <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: not offered" ng-click="flagDeal($event);" class="item">
                                        Deal no longer offered
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: time incorrect" ng-click="flagDeal($event);" class="item">
                                        Deal time incorrect
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: not accurate" ng-click="flagDeal($event);" class="item">
                                        Deal description not accurate
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: inappropriate" ng-click="flagDeal($event);" class="item">
                                        Innappropriate
                                    </div>
                                    <!--<div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: other" ng-click="flagDeal($event);" class="item">
                                        Other
                                    </div>-->
                                
                                </div>

                                </ion-content>
                            </div>
                        </ion-modal-view>
                        <ion-modal-view class="popover-redeem" ng-class="{'hide':redeemPopoverClicked=='no'}">
                            <div ng-if="redeemPopoverClicked=='yes'">
                        
                            <ion-header-bar class="bar bar-header bar-positive">
                                  <h1 class="title">Redeem</h1>
                                  <button class="button button-clear button-primary" ng-click="closePopover();closePopoverReset();">Cancel</button>
                            </ion-header-bar>    
                            <ion-content scroll="false" style="padding:0px;">
                                <div style="background-color:#EAEAEA;width:100%;height:100%;">
                                    <div style="text-align:center;">
                                        <img style="height:50px;margin-top:15px;" src="img/MealSteals_small.png"/>
                                    </div>
                                    
                                    <div style="text-align:center;padding:10px;" class="card">
                                        <div style="display:inline-flex;">
                                            <img style="height:22px;margin-top:10px;margin-right:8px;" ng-src="{{deal.icon}}">
                                            <h3 style="line-height:0px;color:#383838;">{{deal.locName}}</h3>
                                        </div>
                                        <div style=""><p style="color:#383838;font-size:smaller;font-style:italic;">{{deal.name}}  <a ng-click="closePopover();closePopoverReset();" style="color:rgb(71, 115, 189);font-size:smaller;font-style:italic;">see deal details</a></p></div>
                                        <div style="text-align:center;">
                                            <img src="img/qrcode_mealsteals.png"/>
                                            <p style="margin-top:-30px;font-size:x-small;">{{deal.key}}-</p>
                                        </div>
                                        <div style="float:left;margin-left:10px;margin-top:20px;color:#383838;">
                                            <span><b>Valid:</b>  {{deal.startTime | date:'EEE'}} {{deal.startTime | date:'shortDate'}} {{deal.startTime | date:'shortTime'}} - {{deal.endTime | date:'shortTime'}}</span></div>
                                        
                                    </div>
                                    
                                    <div style="display:inline-flex;width:100%;padding:10px;position:absolute;bottom:0px;">

                                        <!--<button class="button button-block button-positive" ng-click="closePopover();closePopoverReset();">Cancel</button>-->
                                        <button class="button button-block button-positive" ng-click="closePopover();closePopoverReset();redeemConfirmed();">Redeem</button>

                                    </div>
                                </div>
                            </ion-content>
                            </div>
                          </ion-modal-view>
                          
                    </script>
                    
                    <script id="redeem-popover.html" type="text/ng-template">
                        <ion-modal-view>
                            <ion-header-bar class="bar bar-header bar-positive">
                              <h1 class="title">Flag Deal</h1>
                              <button class="button button-clear button-primary" ng-click="closePopover();closePopoverReset();">Cancel</button>
                            </ion-header-bar>
                            <ion-content class="padding">
                                <h2 style="margin-bottom:20px;">We're terribly sorry for the inconveience...</h2>
                                <div class="list list-inset" style="padding-top:1px;">

                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: business closed" ng-click="flagDeal($event);" class="item">
                                        {{deal.locName}} is closed
                                    </div>
                                   <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: not offered" ng-click="flagDeal($event);" class="item">
                                        Deal no longer offered
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: time incorrect" ng-click="flagDeal($event);" class="item">
                                        Deal time incorrect
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: not accurate" ng-click="flagDeal($event);" class="item">
                                        Deal description not accurate
                                    </div>
                                    <div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: inappropriate" ng-click="flagDeal($event);" class="item">
                                        Innappropriate
                                    </div>
                                    <!--<div id="Business: {{deal.locName}} Deal: {{deal.name}} Issue: other" ng-click="flagDeal($event);" class="item">
                                        Other
                                    </div>-->
                                
                                </div>
                              
                            </ion-content>
                          </ion-modal-view>
                    </script>
      				
      				<div class="card" style="width:100%;margin-left:initial;">
        				<div class="padding">
                            <div style="display:flex;border-bottom: 1px solid rgb(227, 227, 227);height:55px;">
                                
                                <img style="height:45px;max-width:60px;" ng-src="{{deal.icon}}">
                                <h5 style="margin-left:10px;margin-bottom:17px;line-height:0px;"> {{deal.locName}} </h5>
<!--                                <p style="position: absolute;left: 65px;margin-top:23px;color:#565656;">{{deal.address}}</p>-->
                                <p style="position:absolute; right:20px; margin-top:0px;"><i class="icon ion-ios-location-outline"></i>&nbsp {{kmToMile(distanceAway) | number:1}} mi away</p>
                                
                            </div>
                            
                            
                            <div class="row" style="text-align:center;"> 
                                <div ng-click="viewOptions.displayBizInfo='deals';moreDeals();" class="col">
                                     <div>
                                       <div><i style="font-size:30px;" class="ion-ios-list-outline"></i></div>
                                       <div>More Deals</div>
                                     </div>
                                </div>
                                
                                <div ng-click="viewOptions.displayBizInfo='about'" ng-show="deal.businessAbout!=undefined" class="col">
                                   <div>
                                       <div><i style="font-size:30px;" class="ion-ios-information-outline"></i></div>
                                       <div>About</div>
                                   </div>
                                </div>
                                <div ng-click="viewOptions.displayBizInfo='map';loadMap();" class="col">
                                   <div>
                                       <div><i style="font-size:30px;" class="ion-ios-location-outline"></i></div>
                                       <div>Map</div>
                                   </div>
                                </div>

                                <div ng-click="CallTel({{deal.phone}})" ng-show="deal.phone!=undefined" class="col">
                                   <div>
                                       <div><i style="font-size:30px;" class="ion-ios-telephone-outline"></i></div>
                                       <div>Call</div>
                                   </div>
                                </div>

                                
                            </div>
                        
                        

        				</div>
      				</div>
                    
      				
<!--
      				<div ng-show="viewOptions.displayBizInfo='map'" class="card" style="margin-top:10px;">
        				<div class="col-100" style="margin-bottom:140px;">
          					<div ng-if="viewOptions.displayBizInfo='map'" style="margin:auto;" id="detailMap" data-tap-disabled="true" ng-style="{height:(fuWidth-200)+'px', width:fuWidth-30+'px'}"></div>
                            
                           
       					 </div>
    				</div>
-->
                    
                    
          					
                    <div style="padding-bottom:60px;z-index:99999;">        
                        <div ng-show="viewOptions.displayBizInfo=='about'">
                            <div style="padding:20px;color:#2d2d2d;" class="card">
                                <div style="border-bottom: #d2d2d2 solid 1px;padding-bottom: 10px;margin-bottom: 10px;padding-top: 0px;padding-left: 0px;" class="item item-text-wrap">
                                About
                                </div>
                                {{deal.businessAbout}}
                            </div>
                        </div>
    
                        <div ng-show="viewOptions.displayBizInfo=='deals'">
                         <ion-scroll scrollbar-x="false" has-bouncing="false" direction="x" class="horizontal-deal-scroll">
                            <div style="display:inline-flex;position:relative;">    
                                <div style="height:350px;" class="list card horizontal-card" ng-repeat="deal in busRecurringDeals">
                                         <div class="scroll-day">
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='yes' &&
                                                           deal.daysOfWeek.sunday=='yes'
                                                           ">Everyday of the week!
                                            </h6>
                                             
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='yes' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Monday - Saturday
                                            </h6>
                                             
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='yes' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Friday & Saturday
                                            </h6>



                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Monday - Friday
                                            </h6>
                                             
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Tuesday - Friday
                                            </h6>
                                             
                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Monday - Thursday
                                            </h6> 
                                             
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Tuesday & Thursday
                                            </h6>
                                             
                                             <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Monday & Tuesday
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='yes' &&
                                                           deal.daysOfWeek.sunday=='yes'
                                                           ">Saturday & Sunday
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='yes' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Mondays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='yes' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Tuesdays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='yes' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Wednesdays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='yes' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Thursdays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='yes' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Fridays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='yes' &&
                                                           deal.daysOfWeek.sunday=='no'
                                                           ">Saturdays
                                            </h6>

                                            <h6 style="text-align:center;color:rgb(62, 62, 62);font-size:16px;margin-top:10px;margin-bottom:0px;" ng-show="
                                                           deal.daysOfWeek.monday=='no' &&
                                                           deal.daysOfWeek.tuesday=='no' &&
                                                           deal.daysOfWeek.wednesday=='no' &&
                                                           deal.daysOfWeek.thursday=='no' &&
                                                           deal.daysOfWeek.friday=='no' &&
                                                           deal.daysOfWeek.saturday=='no' &&
                                                           deal.daysOfWeek.sunday=='yes'
                                                           ">Sundays
                                            </h6>
                                            <h6 style="color: rgb(62, 62, 62);margin-top:10px;padding-top:0px;">{{deal.startTime | date : 'shortTime'}} - {{deal.endTime | date : 'shortTime'}}</h6>
                                         </div>
                                         <div class="scroll-image" ng-style="{'background-image':'url({{deal.dealFullImage}})'}" style="background-size:cover;background-position:center;width:auto;"></div>
                                        <div class="scroll-name">
                                            <span>{{deal.name}}</span>
                
                                        </div>
                                    

                                </div>
                            </div>    
                            </ion-scroll>
                            
                        </div>
                        <div ng-show="viewOptions.displayBizInfo=='map'" class="card" style="margin-top:10px;">
                            <div class="col-100" style="margin-bottom:140px;">
                                
                                <div style="margin:auto;" id="detailMap" data-tap-disabled="true" on-load="ionic.trigger('resize');" ng-style="{height:(fuWidth)+'px', width:fuWidth-30+'px'}"></div>
                                

                             </div>
                        </div>
                    </div>
      				
      				
      				
    			</ion-content>
    			<!-- Fixed Footer -->
				
					<div style="position:absolute!important;bottom:0;width:100%;" id="footer">
						
    					<!-- <button class="button icon-left ion-trophy button-balanced button-block" ng-show="deal.redeemable=='yes'">
    						Show This To Redeem!
    					</button> -->
    					
    					<ul class="list">
        					<li class="item" style="background-color: rgb(43, 43, 43);opacity:0.9;border:0;color:#fff;">
          					<center style="">
            					<div style="">
              						<i class="icon ion-ios-alarm-outline" style="font-size:24px;"></i> &nbsp;<span style="font-size:24px;">Remaining: {{millisecondsToTimer(deal.endTime - timestamp)}}</span>
           						 </div>
         					 </center>
        					</li>
      					</ul>
					</div>
    			
    </ion-content>
 			
</ion-view>
   